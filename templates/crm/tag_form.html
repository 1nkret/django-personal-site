{% extends 'base.html' %}

{% block title %}{{ tag.name|default:"New Tag" }} | CRM{% endblock %}

{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/crm.css' %}">
{% endblock %}

{% block content %}
<h2>{% if tag %}Edit Tag{% else %}New Tag{% endif %}</h2>

<form method="post">
    {% csrf_token %}

    <div class="mb-3">
        <label for="{{ form.name.id_for_label }}" class="form-label">Tag Name</label>
        {{ form.name }}
    </div>

    <div class="mb-3">
        <label for="{{ form.color.id_for_label }}" class="form-label">Tag Color</label>
        {{ form.color }}
    </div>

    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{% url 'tag_list' %}" class="btn btn-secondary">Cancel</a>
</form>

{% if form.errors %}
<div class="alert alert-danger mt-3">
    <strong>Form Errors:</strong>
    <ul>
        {% for field, errors in form.errors.items %}
            <li><strong>{{ field }}</strong>: {{ errors }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

{% endblock %}
